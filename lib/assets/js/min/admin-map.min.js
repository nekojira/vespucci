!function(e){"use strict";e("#vespucci-map-settings").each(function(){var a=e("#vespucci-map-lat"),c=e("#vespucci-map-lng"),i=e("#vespucci-map-fields"),n=(i.find("#vespucci-map-dragging"),i.find("#vespucci-map-radius"),i.find("#vespucci-map-zoom"),i.find("#vespucci-map-marker"),i.find("#vespucci-map-address")),s=(n.find("#vespucci-map-address-street"),n.find("#vespucci-map-address-area"),n.find("#vespucci-map-address-city"),n.find("#vespucci-map-address-state"),n.find("#vespucci-map-address-postcode"),n.find("#vespucci-map-address-country"),e("#vespucci-map-geocode")),t=s.find("#vespucci-map-search"),o=s.find(".current-location"),r=s.find(".remove-location"),d=(e("#vespucci-map-data"),new GMaps({div:"#vespucci-map",lat:a.val(),lng:c.val()}));e("#geocoding_form").submit(function(a){a.preventDefault(),d.geocode({address:e("#address").val().trim(),callback:function(e,a){if("OK"==a){var c=e[0].geometry.location;d.setCenter(c.lat(),c.lng()),d.addMarker({lat:c.lat(),lng:c.lng()})}}})}),o.on("click",function(e){function i(e){var a=e.coords.latitude,c=e.coords.longitude;t(a,c)}function n(e){switch(e.code){case e.PERMISSION_DENIED:s("PERMISSION_DENIED");break;case e.POSITION_UNAVAILABLE:s("POSITION_UNAVAILABLE");break;case e.TIMEOUT:s("TIMEOUT")}}function s(e){switch(e){case"NOT_SUPPORTED":alert("Browser does not support sharing of location data");break;case"PERMISSION_DENIED":alert("Permission denied");break;case"POSITION_UNAVAILABLE":alert("Position not available");break;case"TIMEOUT":alert("Current position lookup timeout");break;case"UNKNOWN_ERROR":alert("An unknown error occurred")}}function t(e,i){a.val(e),c.val(i),new d.init}e.preventDefault(),navigator.geolocation?navigator.geolocation.getCurrentPosition(i,n):s("NOT_SUPPORTED")}),r.on("click",function(){t.val("")})})}(jQuery);